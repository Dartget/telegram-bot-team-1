# telegram-bot

Программа: 
Знакомство с языками C#, написание простейших приложений.  
- Освоение Telegram API, написание бота на языке C#. 
- Разработка бэкенда для получения погоды и поиску фильмов

Ожидаемый конечный результат:
- Реализованы приложение для бота и бэкенд для него, бот реагирует на простейшие команды. (погода, поиск фильмов)

## ngrok

- установите ngrok (прочитайте инструкцию на сайте)
- зарегестрируйтесь на сайте и получите свой уникальный токен
- запустите приложение ngrok и установите значение своего токена командой:
ngrok authtoken token

- для запуска локального сервера используйте команду:
ngrok http -host-header=localhost 5000

- далее скопируйте Forwarding адресс (https)
вставьте скопированный адресс как NgrokAdress в *appsettings.json*

- если тестируете прогу на своем боте - поменяйте и BotToken

## WebHookSetup

теперь настройка HttpClient пересена в файлы WebHookClient.cs и ConfigureWebhook.cs

при запуске программы создается объект WebHookClient, поэтому теперь нет необходимости создавать новые объекты HttpClient для выполнения post и get запросов.

если вам нужно написать сообственный метод для выполнения post или get запросов - создайте соответсвующую функцию в классе WebHookClient и интерфейсе IWebHookClient.

если вы хотите использовать WebHookClient и не создавать новый объект HttpClient - используйте в своем классе поле типа интерфейс IWebHookClient.

например:

private readonly IWebHookClient _botClient;